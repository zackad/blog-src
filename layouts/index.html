{{ define "main" }}
<div class="home">
  {{ $paginator := .Paginate (where .Site.RegularPages "Type" "posts") }}
  <ul class="post-list">
    <!-- Iterate over regular post -->
    {{ range $paginator.Pages }}
    <li class="post-item">
      <h2><a class="post-link" href="{{ .RelPermalink }}">{{ .Title }}</a></h2>
      {{ template "partials/post_meta.html" . }}
      <hr />
      <p>{{ .Summary | plainify }}</p>
    </li>
    <!-- End of posts type filter -->
    {{ end }}
    <!-- End of regular pages iteration -->
  </ul>

  <!-- Pagination template -->
  {{ template "partials/pagination.html" . }}

  <p class="rss-subscribe">subscribe <a href="/feed.xml">via RSS</a></p>
</div>
{{ end }}
