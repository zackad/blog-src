---
title: 'Scrapping Leaflet Marker Data'
date: 2022-09-27T14:53:12+07:00
tags: [snippet]
---

This is a snippet to scrap data from leaflet map generated by `https://sekolah.data.kemdikbud.go.id/index.php/Cpetasebaran/index/000000/`

```javascript
// Retrieve layers data as array
let layers = Object.keys(map._layers).map((key) => map._layers[key])

// Filter with popup only
let points = layers.map((layer) => layer._popupHandlersAdded)

// Do something with the results
let results = points.map((point) => ({ coordinate: point.getLatLng(), data: point.getPopup().getContent() }))
```
